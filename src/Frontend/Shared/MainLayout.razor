@inherits LayoutComponentBase

<MudThemeProvider/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<MudLayout>
    <MudAppBar Elevation="0">
        <MudSpacer/>
        <MudText Align="Align.Center" Typo="Typo.h6">Github Repository Analysis</MudText>
        <MudSpacer/>
        <MudButton Variant="Variant.Filled" FullWidth="false" Color="Color.Primary" OnClick="OnButtonClicked">About</MudButton>
        <MudIconButton Icon="@Icons.Custom.Brands.GitHub" Color="Color.Inherit" Link="https://github.com/balanikas/github-repository-analysis/" Target="_blank"/>
    </MudAppBar>
    <MudMainContent>
        <MudContainer MaxWidth="MaxWidth.Large" Class="my-16 pt-8">
            @Body
            <MudMessageBox @ref="aboutBox" Title="About" CancelText="">
                <MessageContent>

                    <MudText>
                        This service is primarily targeted to small or medium sized repos,
                        that are owned by a single person or a small group of contributors.
                        It can be very useful to those getting started with open source projects, but also
                        for more experienced developers who want to do a health check of their own repos.

                        The analysis is presented as a set of detections, where each detection is either
                        <MudPaper Class="d-flex align-content-start flex-wrap flex-grow-1 gap-2" Elevation="0">
                            <MudChip Size="Size.Small" Color="Color.Default" Label="true">Okay</MudChip>
                            <MudText Typo="Typo.body1">- looks good and no action needed</MudText>
                        </MudPaper>
                        <MudPaper Class="d-flex align-content-start flex-wrap flex-grow-1 gap-2" Elevation="0">
                            <MudChip Size="Size.Small" Label="true" Color="Color.Info">Can be improved</MudChip>
                            <MudText Typo="Typo.body1">- an action can be taken to improve the repo</MudText>
                        </MudPaper>
                        <MudPaper Class="d-flex align-content-start flex-wrap flex-grow-1 gap-2" Elevation="0">
                            <MudChip Size="Size.Small" Label="true" Color="Color.Warning">Warning</MudChip>
                            <MudText Typo="Typo.body1">- strongly recommended to address this</MudText>
                        </MudPaper>


                    </MudText>

                </MessageContent>
                <YesButton>
                    <MudButton Variant="Variant.Filled">Ok</MudButton>
                </YesButton>
                <NoButton></NoButton>
            </MudMessageBox>
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    MudMessageBox aboutBox { get; set; }

    private async void OnButtonClicked()
    {
        await aboutBox.Show();
        StateHasChanged();
    }

}